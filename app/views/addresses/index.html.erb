<h1>your addresses</h1>
<%= render Components::HomeButton.new %> <br>
 <br>
<%= link_to "add a new address", new_address_path, class: "primary" %>
<% if @addresses.any? %>
  <div class="addresses-list">
    <% @addresses.each do |address| %>
      <article class="card">
        <div class="address-details">
          <h3><%= address.first_name %> <%= address.last_name %>
            <% if current_identity.primary_address == address %>
              <abbr title="primary address">🏠</abbr>
            <% end %>
          </h3>
          <p>
            <%= address.line_1 %><br>
            <% if address.line_2.present? %>
              <%= address.line_2 %><br>
            <% end %>
            <%= address.city %>, <%= address.state %> <%= address.postal_code %><br>
            <%= address.country %>
          </p>
        </div>
        <div class="inline-buttons">
          <%= button_to "edit", edit_address_path(address), method: :get, style: "display: inline;" %>
          <%= button_to "delete", address, method: :delete,
                      data: { confirm: "Are you sure?" }, style: "display: inline;" %>
          <% unless current_identity.primary_address == address %>
            <%= button_to "make primary", address_path(address, make_primary: true),
                        method: :patch, style: "display: inline;" %>
          <% end %>
        </div>
      </article>
    <% end %>
  </div>
<% else %>
  <p>You haven't added any addresses yet.</p>
<% end %>
